@using NEST_App.Models

@model dynamic

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    ViewBag.Title = "Index";
}

<!DOCTYPE html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <br />
    <div class="outside">
        <table class="UAV_table" id="UAV_table">
            <tr>
                <th>Callsign</th>
                <th>NumDeliveries</th>
                <th>Mileage</th>
                <th>Battery</th>
                <th style="display:none">ETA</th>
                <th style="display:none">STA</th>
                <th style="display:none">Route</th>
                <th style="display:none">Availability</th>
                <th style="display:none">Configuration</th>
                <th style="display:none">current_lat</th>
                <th style="display:none">current_long</th>
                <th style="display:none">current_alt</th>
                <th style="display:none">dest_lat</th>
                <th style="display:none">dest_long</th>
                <th style="display:none">total_delivery</th>
                <th style="display:none">payload</th>
                <th style="display:none">UAV ID</th>
                <th style="display:none">Cost</th>
            </tr>
            @foreach (UAV uav in Model.UAVs)
            {
                <tr id="UAV_table_row">
                    <td>
                        @Html.DisplayFor(modelItem => uav.Callsign)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => uav.NumDeliveries)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => uav.Mileage)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => uav.FlightStates.FirstOrDefault().BatteryLevel)
                    </td>
                    <td style="display:none">
                        @*@Html.DisplayFor(modelItem => uav.Mission.EstimatedCompletionTime)*@
                    </td>
                    <td style="display:none">
                        @*@Html.DisplayFor(modelItem => uav.Mission.ScheduledCompletionTime)*@
                    </td>
                    <td style="display:none">
                        @*@Html.DisplayFor(modelItem => uav.Mission.Phase)*@
                    </td>
                    <td style="display:none">
                        @*@Html.DisplayFor(modelItem => uav.Mission.FlightPattern)*@
                    </td>
                    <td style="display:none">
                        @Html.DisplayFor(modelItem => uav.Configurations.Classification)
                    </td>
                    <td style="display:none">
                        @Html.DisplayFor(modelItem => uav.FlightStates.FirstOrDefault().Latitude)
                    </td>
                    <td style="display:none">
                        @Html.DisplayFor(modelItem => uav.FlightStates.FirstOrDefault().Longitude)
                    </td>
                    <td style="display:none">
                        @Html.DisplayFor(modelItem => uav.FlightStates.FirstOrDefault().Altitude)
                    </td>
                    <td style="display:none">
                        @*@Html.DisplayFor(modelItem => uav.Mission.Latitude)*@
                    </td>
                    <td style="display:none">
                        @*@Html.DisplayFor(modelItem => uav.Mission.Longitude)*@
                    </td>
                    <td style="display:none">
                        @Html.DisplayFor(modelItem => uav.NumDeliveries)
                    </td>
                    <td style="display:none">
                        payload
                        @*@Html.DisplayFor(modelItem =>*@
                    </td>
                    <td style="display:none">
                        @Html.DisplayFor(modelItem => uav.Id)
                    </td>
                    <td style="display:none">
                        cost
                    </td>
                </tr>
            }
        </table>

        <div class="outer_detail_div" id="outer_detail_div">
            <p class="detail_title" id="detail_title">
                UAV #
            </p>

            <div class="detail_statue_metrics_div">
                <div class="detail_statue">
                    <p class="title">Statue</p>
                    <p class="details">
                        Delivering package <br />
                    <p class="details" id="ETA">ETA: </p>
                    <p class="details" id="STA">STA: </p>
                    <p class="details" id="route">Route:  </p>
                    <p class="details" id="avail">Availability: </p>
                    <p class="details" id="conf">Configuration:
                    <p class="details"> Current Coord: </p>
                    <p class="details" id="curr_lat"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAT:&nbsp;&nbsp;&nbsp;&nbsp; </p>
                    <p class="details" id="curr_long"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONG:&nbsp;</p>
                    <p class="details" id="curr_alt"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALT:&nbsp;&nbsp;&nbsp;&nbsp;</p>
                    <p class="details"> Destination Coord:</p>
                    <p class="details" id="dest_lat"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAT:&nbsp;&nbsp;&nbsp;&nbsp; </p>
                    <p class="details" id="dest_long"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONG:&nbsp;</p>
                </div>
                <div class="detail_metrics">
                    <p class="title">Metrics</p>
                    <p class="details" id="battery"> Battery: </p>
                    <p class="details" id="mileage"> Total Miles: </p>
                    <p class="details" id="numdeliveries"> Current Delivery: </p>
                    <p class="details" id="total_deliveries"> Total Delivery: </p>
                </div>

                <div class="detail_acitivity">
                    <p class="title">Activity Log</p>
                    <p class="details">
                        <table>
                            <tr class="UAV_time_tr">
                                <td class="UAV_time_td">
                                    UAV Take off
                                </td>
                                <td class="UAV_time_td_2nd">
                                    9:00 AM
                                </td>
                            </tr>
                            <tr class="UAV_time_tr">
                                <td class="UAV_time_td">
                                    UAV Re-routed
                                </td>
                                <td class="UAV_time_td_2nd">
                                    9:20 AM
                                </td>
                            </tr>
                            <tr class="UAV_time_tr">
                                <td class="UAV_time_td">
                                    UAV Force Land
                                </td>
                                <td class="UAV_time_td_2nd">
                                    9:21 AM
                                </td>
                            </tr>
                            <tr class="UAV_time_tr">
                                <td class="UAV_time_td">
                                    UAV Take off
                                </td>
                                <td class="UAV_time_td_2nd">
                                    9:22 AM
                                </td>
                            </tr>
                            <tr class="UAV_time_tr">
                                <td class="UAV_time_td" id="UAV_time_td">
                                    Delivered #
                                </td>
                                <td class="UAV_time_td_2nd">
                                    9:25 AM
                                </td>
                            </tr>
                            <tr class="UAV_time_tr">
                                <td class="UAV_time_td">
                                    Begin Returning
                                </td>
                                <td class="UAV_time_td_2nd">
                                    9:26 AM
                                </td>
                            </tr>
                        </table>
                    </p>
                </div>
            </div>


            <div class="map">
                <div id="map-canvas"></div>
                <div class="detail_package">
                    <p class="title">Package</p>
                    <p class="details">
                        Dest. Addr: 3550 Nordhoff St, <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Northridge, CA 91330 <br /><br />
                        Package Contents: </p>
                    <p class="details" id="payload" style="margin-bottom: 2px;"></p>
                    <p class="details" id="cost"> Total Cost of Package: $</p>
                    <p class="details">Customer Notes: Please do not leave package by front door.</p>
                </div>
            </div>
        </div>
    </div>


</body>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=drawing"></script>
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jquery-signalR")
@Scripts.Render("~/signalr/hubs")
@Scripts.Render("~/bundles/detailsJS")
@Styles.Render("~/bundles/detailsCSS")
