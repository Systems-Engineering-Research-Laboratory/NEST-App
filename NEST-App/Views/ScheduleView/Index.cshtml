@model IEnumerable<NEST_App.Models.Schedule>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    ViewBag.Title = "Index";
}
<head>
    <title>Schedule</title>
    <link rel="stylesheet" type="text/css" href="~/Content/ScheduleView/schedCSS.css">
</head>
<div class="outer">
    <div id="sched">
        <h3>Missions:</h3>
        <table class="schedule">
            <tr>
                <th>UAV Callsign:</th>
                <th>Estimated Delivery Time:</th>
                <th>Scheduled Delivery Time:</th>
                <th>Destination Coordinates: (lat, long)</th>
                <th>Mission Phase:</th>
                <th>Delivery Package:</th>
            </tr>

            @foreach (var sched in Model)
            {
                <tr>
                    @foreach (var mission in sched.Missions)
                    {
                        <td>  @(sched.UAV.Callsign.ToString() + ":")</td>
                        <td>  @(mission.EstimatedCompletionTime) </td>
                        <td>  @(mission.ScheduledCompletionTime) </td>
                        <td>  @(mission.Latitude + "," + mission.Longitude) </td>
                        <td>  @(mission.Phase)</td>
                        <td>  @(mission.Payload)</td>
                    }
                </tr>
            }
        </table>
    </div>

    <div id="maint">
        <h3>Maintenances:</h3>
        <table class="maintenance">
            <tr>
                <th>UAV Callsign</th>
                <th>Last Maintenance:</th>
                <th>Next Maintenance:</th>
                <th>Time Remaining:</th>
            </tr>

            @foreach (var sched in Model)
            {
                <tr>
                    @foreach (var maintenance in sched.Maintenances)
                    {
                        <td> @(sched.UAV.Callsign.ToString() + ":")</td>
                        <td> @(maintenance.last_maintenance)</td>
                        <td> @(maintenance.last_maintenance.AddMonths(1))</td>
                        <td> @((maintenance.last_maintenance.AddMonths(1) - DateTime.Today).ToString() + " days")</td>
                    }
                </tr>
            }
        </table>
        <form id="m">
            UAV Callsign:
            <input type="text" name="callsign" />
            Date: 
            <input type="datetime-local" name="date" />
            <input type="submit" />
        </form>
    </div>
</div>




