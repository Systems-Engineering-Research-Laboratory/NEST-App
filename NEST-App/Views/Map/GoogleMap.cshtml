@{
    Layout = null;
}

@{
    ViewBag.Title = "Google Map";
}

<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=drawing"></script>
<script src="~/Scripts/MarkerWithLabel.js"></script>
<script src="~/Scripts/InfoBox.js"></script>
<script src="~/Scripts/jquery-2.1.2.js"></script>
<script src="~/Content/Map/GOOG/MapFunctions.js" type="text/javascript"></script>

<div id="map-canvas"></div>
<div class="right-buttons">
   
    <button type="button" id="goWaypoint" onclick="mapFunctions.goTo_show()">Go...</button>
</div>
<div class="left-buttons">
    <div id="panel">
        <div id="color-palette"></div>
    </div>
    <button id="delete-button">Delete One</button>
    <button id="delete-all-button">Delete All</button>
</div>

<div id="gotouav" style="display: block;">
    <input type="text" id="enter_callsign" placeholder="UAV Callsign" />
    <button class="btn-default" id="gotouavbtn" onclick="mapFunctions.centerOnUAV(document.getElementById('enter_callsign').value)">GO</button>

</div>

<!-- command pop up placeholder -->
<div id="CommPopPlaceHolder">
    <!-- drop waypoint window -->
    <div id="waypoint_popup">
        <div class="closeBtn"><span class="glyphicon glyphicon-remove" onclick="mapFunctions.goTo_hide()"></span></div>
        <h3 id="UAVId">Select an UAV first</h3>
        <h3>New Waypoint</h3>
        <p>
            (
            <input type="text" name="go_latitude" id="go_lat" placeholder="Latitude" />
            ,
            <input type="text" name="go_longitude" id="go_long" placeholder="Longitude" />
            )<button class="btn btn-default disabled" id="clickToGoBtn" onclick="droneTrails.clickToGo()"><span class="glyphicon glyphicon-hand-down"></span></button>
        </p>
        <button class="btn btn-default disabled sendBtn" id="goBtn">GO</button>
        <button class="btn btn-default clear" id="clearBtn">CLEAR</button>
    </div>

    <!-- hold command window -->
    <div id="hold_popup" class="commandWindow">
        <div class="closeBtn"><span class="glyphicon glyphicon-remove" onclick="mapFunctions.hold_hide()"></span></div>
        <h3 class="UAVId">Select an UAV first</h3>
        <h4>Hold Position:</h4>
        <p>
            <input type="text" name="hold_time_amount" id="hold_time" placeholder="Time (in minutes)" />
        </p>
        <button class="btn btn-default" id="hold_click" onclick="">Ok</button>
        <button class="btn btn-default" onclick="mapFunctions.hold_hide()">Cancel</button>
    </div>

    <!-- adjust parameters command window -->
    <div id="adjust_popup" class="commandWindow">
        <div class="closeBtn"><span class="glyphicon glyphicon-remove" onclick="mapFunctions.adjust_hide()"></span></div>
        <h3 class="UAVId">Select an UAV first</h3>
        <h4>Hold Position:</h4>
        <p>
            Altitude: <input type="text" name="alt_amount" id="adjust_alt" placeholder="Altitude" />
        </p>
        <p>
            Throttle: <input type="text" name="throt_amount" id="adjust_throttle" placeholder="Throttle" />
        </p>
        <button class="btn btn-default" id="adjust_click" onclick="">Ok</button>
        <button class="btn btn-default" onclick="mapFunctions.adjust_hide()">Cancel</button>
    </div>

    <!--Return to base command window-->
    <div id="return_popup" class="commandWindow">
        <div class="closeBtn"><span class="glyphicon glyphicon-remove" onclick="mapFunctions.return_hide()"></span></div>
        <h3 class="UAVId">Select an UAV first</h3>
        <h3>Returning to base</h3>
        <p>Please confirm</p>
        <button class="btn btn-default" id="return_click" onclick="">Ok</button>
        <button class="btn btn-default" onclick="mapFunctions.return_hide()">Cancel</button>
    </div>

    <!--Force landing command window-->
    <div id="land_popup" class="commandWindow">
        <div class="closeBtn"><span class="glyphicon glyphicon-remove" onclick="mapFunctions.land_hide()"></span></div>
        <h3 class="UAVId">Select an UAV first</h3>
        <h3>Force Emergency Landing</h3>
        <p>Please confirm</p>
        <button class="btn btn-default" id="land_click" onclick="">Ok</button>
        <button class="btn btn-default" onclick="mapFunctions.land_hide()">Cancel</button>
    </div>

    <!-- send notification window -->
    <div id="notification">
        <div class="closeBtn"><span class="glyphicon glyphicon-remove" onclick="mapFunctions.note_hide()"></span></div>
        <h3>Send Notification</h3>
        <p>
            <input type="text" name="notifier" id="notifier" placeholder="Name" />
            <input type="text" name="message" id="message" placeholder="Message" />
        </p>
        <button class="btn btn-default sendBtn" id="send">SEND</button>
        <button class="btn btn-default clear">CLEAR</button>
    </div>

    
</div>         <!-- end of placeholder -->

<!-- USER INTERFACE PROMPT TO ACCEPT OR REJECT UAV ASSIGNMENT ON MAP -->
<div id="RR_outer_result" class="RR_outer_result">
    <p class="RR_choice_p" id="RR_choice_p">
        You have accepted UAV
    </p>
</div>

<div id="RR_outer">
    <div id="RoundRobin_popup">
        <div id="RR_close"><span class="glyphicon glyphicon-remove" onclick="mapFunctions.goTo_RR_hide()"></span></div>
        <p style="text-align:center; color:red; margin:0px; font-size:23px;font-weight:bold;">Warning!</p>
        <p style="margin-bottom:3px;">
            <span id="warningUavId"></span>
            <span id="warningUavCallsign"></span>
            <span id="warningReason"></span>
        </p>
        <button id="RR_button_accept" onclick="mapFunctions.RR_button_accept()">ACCEPT</button>
        <button id="RR_button_decline" onclick="mapFunctions.RR_button_decline()">DECLINE</button>
    </div>
</div>

@if (ViewBag.currentUser != null && ViewBag.assignedUavs != null)
{
    var user = ViewBag.currentUser;
    var assignments = ViewBag.assignedUavs;
    <script id="current_user" type="application/json">
        @Html.Raw(Json.Encode(user))
    </script>
    <script id="assignment_array" type="application/json">
        @Html.Raw(Json.Encode(assignments))
    </script>
    @Scripts.Render("/Content/NestScripts/assignment.js")
}

<script src="~/Scripts/proj4.js" type="text/javascript"></script>
<!-- deprecated for bad form
<script src="~/Scripts/simulation.js" type="text/javascript"></script>
<script src="~/Scripts/vehicle.js" type="text/javascript"></script>
-->

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jquery-signalR")
@Scripts.Render("~/signalr/hubs")
@Scripts.Render("~/bundles/bootstrap")
@Scripts.Render("~/bundles/googMapJS")
@Styles.Render("~/bundles/googMapCSS")
@Styles.Render("~/bundles/bootstrapLess")



